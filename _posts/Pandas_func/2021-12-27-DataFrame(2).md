---
title : "🌵Pandas 2. DataFrame(2) - 행에 접근하기"

categories:
    - Pandas_func
tags:
    - [Pandas, DataFrame, Data, Row]

toc : true
toc_sticky : true

date: 2021-12-27
last_modified_at: 2021-12-27
---

* * *
🌵 이번 포스팅과 다음 포스팅을 통해 데이터프레임의 행/열에 접근하는 방법에 대해 알아볼 것이다.  
🌵 시작 전에 df 라는 데이터프레임을 하나 만들어두자.

```py
import pandas as pd

df = pd.DataFrame({"국어" : [85, 92, 88, 80],
                   "수학" : [100, 92, 84, 90],
                   "영어" : [90, 90, 90, 82]}, 
                   index = ["A","B","C","D"])
df
```
```
>>
        국어	수학	영어
A	85	100	90
B	92	92	90
C	88	84	90
D	80	90	82
```

## 1. DataFrame 행에 접근
### 1.1. loc / iloc 함수
* * *

🌵 <b>df.loc[인덱스이름]</b> : 인덱스의 이름을 받아서 행에 접근

```py
df.loc["A"]
```
```
>>
국어     85
수학    100
영어     90
Name: A, dtype: int64
```  
🌵 <b>df.iloc[인덱스순서]</b> : 인덱스의 순서를 받아서 행에 접근

```py
df.iloc[1]
```
```
>>
국어    92
수학    92
영어    90
Name: B, dtype: int64
```  

행을 가져오는 모습을 확인할 수 있다.  

### 1.2. 값 변경하기
* * *

🌵 <b>df.loc[ ] / df.iloc[ ]</b> 를 사용해서 행에 접근하고 값을 바꿔줌  

```py
df.loc['A'] = [85,100,92]
df
```
```
>>
        국어	수학	영어
A	85	100	92
B	92	92	90
C	88	84	90
D	80	90	82
```  

A의 영어성적이 90 에서 92로 바뀐것을 확인할 수 있다.  

### 1.3. 행 삭제하기
* * *

🌵 <b>drop([인덱스이름])</b> : 해당 인덱스의 행을 삭제함  

```py
df = df.drop(["D"]).copy()
df
```
```
>>
        국어	수학	영어
A	85	100	90
B	92	92	90
C	88	84	90
```

D행이 삭제된 것을 확인하자.

### 1.4. ⭐⭐조건에 맞는 행 가져오기
* * *

🌵 데이터를 전처리하는 과정에서 필요한 부분을 가져와야하는 경우가 빈번하기 때문에 자주 사용하는 구문이다. 꼭 기억하기!!  
🌵 <b>df [ df [column] ~~ 조건 ]</b> : return Dataframe

```py
df[df['국어']==92]
```
```
>>
        국어	수학	영어
B	92	92	90
```
```py
df[df['영어']==90]
```
```
>>
        국어	수학	영어
B	92	92	90
C	88	84	90
```

### 1.5. 포함관계 파악하기
* * *

🌵 <b>isin( [리스트] )</b> : return Boolean  
ex) df['국어'].isin([92]) : 92가 df['국어'] 에 있는지 확인

```py
df['국어'].isin([92])
```
```
>>
A    False
B     True
C    False
Name: 국어, dtype: bool
```

### 1.6. 행 가져오기
* * *

🌵 <b>df.sample(frac = )</b>: frac 비율만큼 랜덤하게 행을 가져옴
```py
df.sample(frac = 0.5)
```
```
>>

        국어	수학	영어
A	85	100	90
B	92	92	88
```
```py
df.sample(frac = 0.5)
```
```
>>
	국어	수학	영어
C	88	84	90
A	85	100	90
```  
랜덤하게 가져오기 때문에 같은 코드에 대해 리턴값이 다른 것을 확인할 수 있다.  

🌵 <b>df.sample(n = )</b> : n 개수만큼 랜덤하게 행을 가져옴
```py
df.sample(n = 2)
```
```
>>
        국어	수학	영어
A	85	100	90
C	88	84	90
```
```py
df.sample(n = 2)
```
```
>>
        국어	수학	영어
B	92	92	88
A	85	100	90
```  
sample() 함수도 랜덤하게 가져오기 때문에 같은 코드에 대해 리턴값이 다른 것을 확인할 수 있다.  

🌵 <b>df.nlargest(개수, column)</b> : column 기준 큰 순서대로 n개의 행을 가져옴
```py
df.nlargest(2, '국어')
```
```
>>
        국어	수학	영어
B	92	92	88
C	88	84	90
```  

🌵 <b>df.smallest(개수, column)</b> : column 기준 작은 순서대로 n개의 행을 가져옴
```py
df.nsmallest(2, '수학')
```
```
>>
        국어	수학	영어
C	88	84	90
B	92	92	88
```  

🌵 이렇게 간단한 데이터를 통해 행에 접근하는 법을 알아보았다.  
🌵 데이터를 전처리하는 과정에서 행을 중심으로 하는 경우는 적지만, 알아두는 것도 나쁘지 않다고 생각한다.
